# Лабораторная работа №0

Дедлайн: **22 октября 2020**.

Лабораторная сдаётся заочно, на почтовые ящики педагогов в
трёх экземплярах:

* html
* pdf
* .ipynb

Перед **каждым** cell необходимо пояснение в Markdown на **русском** языке

---

Так же необходимо приложить:

* csv файлы (задание 6)


(!) Для контроля от списывания варианты будут проверятся между собой. Проще сделать самому.


## Подготовка к лабораторной работе 

### 1. (опционально) Собственный VPS

Желательно установить Virtual Private Server (VPS).

Это опциональное действие. VPS -- это удобно. 
Если у вас есть VPS, вам не нужен мощный ноутбук, вам нужен 
ЭРГОНОМИЧНЫЙ ноутбук, с хорошей батареей. 
В конечном итоге это просто выгодно и удобно. 
А ещё, если у вас есть VPS, вы можете что-либо там запустить и спокойно выключить ноут. 
А завтра утром посмотреть на результат.
(А ещё можно сделать чат-бота, и когда будет выполнено задание -- написать из под бота себе сообщение)

Но вы можете пропустить этот пункт и запускать Jupyter через localhost.
 
Например можно за **2.5$** в месяц (1.95$ + 0.5$ за выделенный IP) арендовать у эстонцев:
https://iphoster.net/tarifs?vid=vds#idz-pricing

**ВАЖНО**: При заказе не забудьте выделенный IP. Это не обязательно, но гораздо удобнее!

(а ещё можно понищебродствовать по приколу и скинутся на пару с кем-то. 
Только не подеритесь, придумайте джентельменские правила работы...)

Настройте .ssh по ключу, отмените вход по паролю. Вот мануал: 
https://losst.ru/avtorizatsiya-po-klyuchu-ssh

### 2. Установка Jupyter

Вот официальная страница: https://jupyter.org

Лучше, проще, быстрее устанавливать через докер: https://hub.docker.com/r/jupyter/datascience-notebook

Но если есть желание блестнуть девопсингом, то вот: https://jupyter.org/install

Если у вас VPS (вы выполнили п.1), то:

1. При установке смените стандартный порт HTTP (или HTTPS) на какой-нибудь другой.
Есть много сниферов по стандартным портам, зачем давать им трафик?
1. Установите пароль на Jupyter. Не забудьте его :)) 

Если локально на ноуте, то это не нужно.

### 3. Hello world на Jupyter

Загрузите хоть какие-нибудь данные и постройте любой график.
Убедитесь, что всё работает. 


### 4. Освойте MarkDawn в Jupyter

Вот мануал: https://jupyter-notebook.readthedocs.io/en/stable/examples/Notebook/Working%20With%20Markdown%20Cells.html

Ещё: https://towardsdatascience.com/write-markdown-latex-in-the-jupyter-notebook-10985edb91fd

Попишите различные тексты, формулы в LaTeX.

Jypyter -- это мощный инструмент, благодаря которому вы быстро 
будите исследовать данные и автоматически получить вполне годные
(не для маркетинга) отчёты.

### 5. Научитесь сохранять документы в HTML и PDF. 

Очень полезный навык, чтобы быстро поделится результатами.


## Лабораторная работа №0

### ЗАМЕЧАНИЕ

В лабораторной работе №0 запрещено пользоватся любыми библиотеками, кроме стандартных (json например).

Исключение составляет библиотека визуализации данных. 

Например:

* https://matplotlib.org/
* https://plotly.com/python/

В частности нельзя использовать:

* https://scikit-learn.org/stable/index.html
* https://pandas.pydata.org/
* https://www.scipy.org/
* ...

### Описание полей

В выгрузке есть параметр CLASS, обозначающее отношение операции к легитимной (G), мошеннической (F). 
Значение U означает Uknown. 

Значения p1_Fraud, ..., p5_Fraud являются откликами от 0 до 1 различных экспертных систем. 
Чем ближе к 1, тем более ЭС "уверена", что событие мошенничесское.

Поле AMOUNT показывает сумму.

Остальные поля для лабораторной №0 не имеют значения.

### Задание 1

Напишите в Markdown формулы полноты и точности для рассчёта на статистических данных.

Предположим что q=10.

Для **cut_off** 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 0.95, 0.99 найдите полноту и точность каждой из пяти ЭС. 

### Задание 2

Напишите в Markdown эквиваленты формул полноты и точности для рассчёта на статистических данных, учитывающие не количество а суммы операций.

Предположим что q=10.

Для **cut_off** 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 0.95, 0.99 найдите полноту и точность каждой из пяти ЭС. 


### Задание 3

Постройте ROC кривую для задания 1 и для задания 2. 

На двух разных графиках. 

Разными цветами обозначте 1, 2, ..., 5 системы


### Задание 4

Аналогично заданию 3, только **cut_off** определите с шагом 0.01, а не 0.1

### Задание 5

Постройте кривую precision-recall для задания 1 и для задания 2.


### Задание 6

Выгрузите все данные для графиков из задач 1-5 в csv файлы.

### Задание 7

Зададим ансамбль через параметры A, B, C:
```
 p =(A*p1_fraud + B*p2_fraud + C*p3_fraud) / ( A + B + C ).
```
   1. Найдите A, B, C, чтобы коэфициент Джини ансамбля был бы максимальным. 
   1. При каких A, B, C коэфициент Джини минимален?
   1. Найдите A, B, C для максимального true positive при условии, что false positive должен быть равен 0.1.
   1. Каков порог решающего правила? 




